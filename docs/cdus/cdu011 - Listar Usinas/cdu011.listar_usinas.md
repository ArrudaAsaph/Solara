# CDU011 – Listar Usinas

> **Arquivo:** `cdu011_listar_usinas.md`
> **Descrição:** Caso de uso referente à listagem de usinas cadastradas e vinculadas à empresa. Pode ser executado por **Empresa**, **Gerente** e **Analistas (Energético e Financeiro)**, com escopo definido pelo papel do ator.

---

## Identificação

| **Campo** | **Valor** |
| :-------- | :-------- |
| **Código** | CDU011 |
| **Ator Principal** | Empresa / Gerente / Analista Energético / Analista Financeiro |
| **Atores Secundários** | Sistema |
| **Requisito Atendido** | RF10 / RF20 |

---

## Resumo

Permite ao ator visualizar usinas conforme seu escopo de acesso, podendo aplicar filtros por status, localização e capacidade instalada. Nenhum dado é alterado neste caso de uso.

- **Empresa/Gerente:** visualizam todas as usinas da própria empresa.
- **Analistas (Energético e Financeiro):** visualizam apenas as usinas às quais estão vinculados.

---

## Pré-condições

- O ator deve estar autenticado no sistema.
- O ator deve estar ativo e vinculado a uma empresa ativa.

---

## Pós-condições

- A listagem de usinas vinculadas à empresa é exibida conforme os filtros aplicados.
- Nenhum dado é alterado no sistema.

---

## Mapeamento: CDU → Requisitos Funcionais

| **Requisito** | **Descrição** |
| :------------ | :------------ |
| **RF10** | A empresa ou o gerente pode listar e visualizar todas as usinas cadastradas da empresa, com filtros por status, localização e capacidade instalada. |
| **RF20** | O analista pode listar e visualizar apenas as usinas às quais está vinculado. |

---

## Mapeamento: CDU → Regras de Negócio

| **Código** | **Descrição** |
| :--------: | :------------ |
| **RN19** | Analistas só podem acessar usinas às quais estão vinculados. |
| **RN25** | Analistas podem listar apenas usinas às quais estão vinculados; não podem visualizar usinas fora desse vínculo. |

---

## Fluxo Principal

| **Passo** | **Ações do Ator** | **Ações do Sistema** |
| :-------: | :---------------- | :------------------- |
| 1 | Acessa a opção "Listar Usinas". | |
| 2 | | Recupera as usinas conforme o escopo do ator: empresa/gerente (todas da própria empresa) e analista (apenas usinas vinculadas). |
| 3 | | Exibe a listagem com as informações: identificador, localização, capacidade instalada e status. |
| 4 | Aplica filtros por status, localização ou capacidade instalada (opcional). | |
| 5 | | Atualiza a listagem conforme os filtros aplicados. |
| 6 | Visualiza os resultados da listagem. | |

---

## Fluxos de Exceção

### Fluxo de Exceção I – Sem usinas cadastradas

| **Passo** | **Ações do Ator** | **Ações do Sistema** |
| :-------: | :---------------- | :------------------- |
| 0.1 | Acessa a listagem de usinas. | |
| 0.2 | | Exibe mensagem informando ausência de usinas cadastradas na empresa. |

### Fluxo de Exceção II – Tentativa de listar usinas de outra empresa

| **Passo** | **Ações do Ator** | **Ações do Sistema** |
| :-------: | :---------------- | :------------------- |
| 0.3 | Tenta acessar listagem de usinas não vinculadas à sua empresa. | |
| 0.4 | | Valida as Regras de Negócio **RN19** e **RN25**. |
| 0.5 | | Bloqueia a exibição e apresenta mensagem de acesso não autorizado. |
