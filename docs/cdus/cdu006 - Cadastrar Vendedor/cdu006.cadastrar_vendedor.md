# CDU006 – Cadastrar Vendedor

> **Arquivo:** `cdu006_cadastrar_vendedor.md`
> **Descrição:** Caso de uso referente ao cadastro de vendedores no sistema para fins de controle financeiro e comissionamento. Vendedores **não são usuários do sistema** — não possuem credenciais de acesso nem aparecem na listagem de usuários (CDU002).

---

## Identificação

| **Campo** | **Valor** |
| :-------- | :-------- |
| **Código** | CDU006 |
| **Ator Principal** | Empresa / Gerente |
| **Atores Secundários** | Sistema |
| **Requisito Atendido** | RF06 |

---

## Resumo

Permite à Empresa ou ao Gerente cadastrar vendedores vinculados à empresa para fins de controle comercial e comissionamento. Por não serem usuários do sistema, vendedores não possuem credenciais de acesso e não participam da hierarquia de papéis (RN09).

---

## Pré-condições

- O ator deve estar autenticado no sistema.
- O ator deve estar ativo e vinculado a uma empresa ativa.

---

## Pós-condições

- Vendedor cadastrado e vinculado à empresa.
- O vendedor **não possui** credenciais de acesso ao sistema.
- Histórico de criação registrado no sistema.

---

## Mapeamento: CDU → Requisitos Funcionais

| **Requisito** | **Descrição** |
| :------------ | :------------ |
| **RF06** | A empresa ou o gerente pode cadastrar vendedores no sistema para fins de controle financeiro e comissionamento. O vendedor não possui acesso como usuário do sistema. |

---

## Mapeamento: CDU → Regras de Negócio

| **Código** | **Descrição** |
| :--------: | :------------ |
| **RN23** | Empresa e gerente podem cadastrar vendedores apenas da mesma empresa à qual estão vinculados. |
| **RN24** | Não deve existir mais de um vendedor com o mesmo CPF dentro da mesma empresa. |
| **RN09** | Vendedores cadastrados não possuem acesso direto ao sistema. Suas informações ficam salvas para fins de controle financeiro e comissionamento, porém não possuem credenciais de acesso. |

---

## Fluxo Principal

| **Passo** | **Ações do Ator** | **Ações do Sistema** |
| :-------: | :---------------- | :------------------- |
| 1 | Acessa a opção "Gerenciar Vendedores". | |
| 2 | | Exibe a listagem de vendedores vinculados à empresa. |
| 3 | Seleciona a opção "Cadastrar Vendedor". | |
| 4 | | Exibe formulário de cadastro com os campos: nome completo, CPF, e-mail de contato, telefone e dados de comissionamento (percentual, tipo e vigência). |
| 5 | Preenche os dados e confirma o cadastro. | |
| 6 | | Valida os campos obrigatórios e a consistência dos dados, conforme **RN23**, **RN24** e **RN09**. |
| 7 | | Cria o registro do vendedor vinculado à empresa, **sem gerar credenciais de acesso**. |
| 8 | | Registra o histórico de criação com identificação do ator responsável. |
| 9 | Visualiza o vendedor cadastrado na listagem com confirmação de sucesso. | |

---

## Fluxos de Exceção

### Fluxo de Exceção I – Falha na validação dos dados

| **Passo** | **Ações do Ator** | **Ações do Sistema** |
| :-------: | :---------------- | :------------------- |
| 0.1 | Preenche o formulário com dados inválidos ou incompletos. | |
| 0.2 | | Valida os campos obrigatórios e identifica inconsistências. |
| 0.3 | | Exibe mensagens de erro indicando os campos inválidos. |
| 0.4 | Corrige os dados e confirma novamente. | |

### Fluxo de Exceção II – CPF já cadastrado na empresa

| **Passo** | **Ações do Ator** | **Ações do Sistema** |
| :-------: | :---------------- | :------------------- |
| 0.5 | Preenche o formulário com CPF de um vendedor já cadastrado na empresa. | |
| 0.6 | | Identifica duplicidade de CPF dentro da mesma empresa. |
| 0.7 | | Bloqueia o cadastro e exibe mensagem informando que já existe um vendedor com esse CPF vinculado à empresa. |
| 0.8 | Corrige os dados ou cancela a operação. | |
